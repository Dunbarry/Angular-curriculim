<!DOCTYPE html>
<html ng-app='cloneddit'>
  <head>
    <meta charset="utf-8">
    <title>cloneddit</title>
    <link rel="stylesheet" type="text/css" href="cloneddit.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  </head>
  <body ng-controller="clonedditController">
    <button ng-click="postFormReveal()">Broadcast</button>
    <div class='make' ng-show="postForm">
      <h1>Post</h1>
      <label for='postTitle'>Title</label>
      <div>
        <input type='text' name='postTitle' ng-model='addPost.title'></input>
      </div>
      <label for='postAuthor'>Username</label>
      <div>
        <input type='text' name='postAuthor' ng-model='addPost.author'></input>
      </div>
        <label for='postContent'>Send Your Transmission:</label>
      <div>
        <textarea rows='8' cols='100' name='postContent' ng-model='addPost.content'></textarea>
      </div>
      <label for='postImage'>Image URL</label>
      <div>
        <input type='text' name='postImage' ng-model='addPost.image'></input>
      </div>
      <label for='postAlt'>Image Summary</label>
      <div>
        <input type='text' name='postAlt' ng-model='addPost.imageAlt'></input>
      </div>
      <button ng-click="newPost()">Send Transmission</button>
    </div>
    <div class="mainContain">
      <div ng-repeat='post in posts' class="repeatContain bottomSpacer">
        <div class="postContain">
          <div class='bottomSpacer'>
            <div>
              <h1 class="topKill">{{post.title}}</h1>
            </div>
            <div class='metaData'>
              <p class='align'>{{post.author}} <i id='FF'class="fa fa-microphone" aria-hidden="true"></i></p>
              <p>{{post.time | date:"MM/dd/yyyy 'at' h:mma"}}</p>
            </div>
            <div>
              {{post.content}}
            </div>
          </div>
          <div class="commentButtons">
            <button class="viewButton" ng-click="commentShow(id)" ng-init='id=post.id'>Recieve</button>
            <button class="makeButton" ng-click="commentFormShow(id)">Transmit</button>
          </div>
          <div class='make' ng-show="post.makeComment % 2 == 0">
            <h1>Comment</h1>
            <input type="text" value="post.commentCount" ng-model='newComment.id' hidden></input>
            <label for='author'>Username</label>
            <div>
              <input type='text' name='author' ng-model='newComment.author'></input>
            </div>
              <label for='commentContent'>Your Comment?</label>
            <div>
              <textarea rows='4' cols='50' name='commentContent' ng-model='newComment.content'></textarea>
            </div>
            <button ng-click="addComment(id)">Send Reply</button>
          </div>
          <div ng-repeat='comment in post.comments' class='commentContain'>
            <div ng-show="post.commentHold % 2 == 0">
              <div class="metaData">
                <p class="bottomKill">{{comment.author}}</p>
                <p class="bottomKill">{{comment.time | date:"MM/dd/yyyy 'at' h:mma"}}</p>
              </div>
              <p class="topKill bottomKill">&#8594; {{comment.content}}</p>
            </div>
          </div>
        </div>
        <div class='imageContain'>
          <img ng-src='{{post.image}}' alt='{{post.imageAlt}}'>
        </div>
      </div>
    </div>

    <!-- End Content -->
    <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js'></script>
    <script src='./cloneddit.js'></script>
  </body>
</html>
